<% provide(:title, 'Create an auction') %>
<div class="container row justify-content-center g-5 px-5">
  <div class="col-8 col-lg-6">
    <h4 class="fw-semibold text-center">Create the auction</h4>
    <%= form_with(url: reverse_auction_auctions_path,model: @auction, remote: true, method: :post, data: { turbo: false }) do |f| %>
      <%= f.hidden_field :location, class: 'form-control', value: current_company.location, required: true %>

      <div class="row g-3 mt-4 text-dark">
        <%= render 'shared/error_messages', object: f.object %>

        <div class="col-sm-12">
          <%= f.label 'Title', class: 'form-label' %>
          <%= f.text_field :title, class: 'form-control', required: true %>
        </div>

        <div class="col-sm-12">
          <%= f.label :description, class: 'form-label' %>
          <%= f.rich_text_area :description, class: 'form-control', required: true %>
        </div>

        <div class="col-sm-6 mb-2">
          <%= f.label "Auction start", class: 'form-label' %>
          <%= f.datetime_field :start, class: 'form-control', required: true %>
        </div>

        <div class="col-sm-6">
          <%= f.label 'Auction deadline', class: 'form-label' %>
          <%= f.datetime_field :deadline, class: 'form-control', required: true %>
        </div>

        <div class="col-sm-12 mb-2">
           <% if @auction.image.attached? %>
              <%= image_tag @auction.image %>
           <% end %>
          <%= f.label 'Add an image', class: 'form-label' %>
          <%= f.file_field :image, class: 'form-control' %>
        </div>

        <div class="col-sm-3"></div>

        <%= f.submit "Create auction", class: "col-sm-5 btn btn-primary btn-md" %>
      </div>
    <% end %>
  </div>
</div>